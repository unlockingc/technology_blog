(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{386:function(t,e,a){"use strict";a.r(e);var s=a(46),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"nix-reading-notes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nix-reading-notes"}},[t._v("#")]),t._v(" Nix Reading Notes")]),t._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://edolstra.github.io/pubs/phd-thesis.pdf",target:"_blank",rel:"noopener noreferrer"}},[t._v("基于1978年博士论文：The Purely Functional Software\nDeployment Model"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"c1-concept"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c1-concept"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/why-you-should-give-it-a-try.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C1. Concept"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("purely functional\n"),a("ul",[a("li",[t._v("(no state assumption of the system)")])])]),t._v(" "),a("li",[t._v("immutable\n"),a("ul",[a("li",[t._v("all content in a hash location in the store is fix")]),t._v(" "),a("li",[t._v("shortcoming:\n"),a("ul",[a("li",[a("div",{staticClass:"checkbox"},[a("input",{attrs:{type:"checkbox",id:"cbx_7"}}),a("label",{attrs:{for:"cbx_7"}},[t._v("security updates.")])])]),t._v(" "),a("li",[a("div",{staticClass:"checkbox"},[a("input",{attrs:{type:"checkbox",id:"cbx_8",checked:"true"}}),a("label",{attrs:{for:"cbx_8"}},[t._v("software no obey the functional rule, require lib using absolute path.(firefox) ")])]),a("strong",[t._v("make wrapper")])])])])])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("How dependency look like in nix")]),t._v(" "),a("p",[t._v("依赖一个机遇nix/store的hash路径，这个hash里面的内容是绝对不可变的")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("ldd  "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("which")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bash")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v("\nlibc.so.6 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" /nix/store/94n64qy99ja0vgbkf675nyk39g9b978n-glibc-2.19/lib/libc.so.6 "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("0x00007f0248cce000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])])]),t._v(" "),a("h2",{attrs:{id:"c2-installion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c2-installion"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/install-on-your-running-system.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C2. Installion"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("/nix/store")]),t._v(" "),a("li",[t._v("database")]),t._v(" "),a("li",[a("div",{staticClass:"checkbox"},[a("input",{attrs:{type:"checkbox",id:"cbx_9"}}),a("label",{attrs:{for:"cbx_9"}},[t._v("profile")])])]),t._v(" "),a("li",[t._v("nix expression")])]),t._v(" "),a("h2",{attrs:{id:"c3-environment"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c3-environment"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/enter-environment.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C3. Environment"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("Dependency")]),t._v(" "),a("li",[t._v("Closures")]),t._v(" "),a("li",[t._v("channels")])]),t._v(" "),a("h2",{attrs:{id:"c4-language"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c4-language"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/basics-of-language.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C4. Language"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("foundational type")]),t._v(" "),a("li",[t._v("foundational operation")])]),t._v(" "),a("h2",{attrs:{id:"c5-functions-and-import"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c5-functions-and-import"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/functions-and-imports.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C5. Functions and Import"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("函数只能有一个参数")]),t._v(" "),a("li",[t._v("多个参数的函数是通过函数嵌套实现的")]),t._v(" "),a("li",[t._v("函数的参数可以是一个set，这个set类似一个json")])]),t._v(" "),a("h2",{attrs:{id:"c6-derivation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c6-derivation"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/our-first-derivation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C6. Derivation"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("derivation is stored in .drv intermediate file for others to ref\n"),a("ol",[a("li",[t._v("arch")]),t._v(" "),a("li",[t._v("system")]),t._v(" "),a("li",[t._v("builder")]),t._v(" "),a("li",[t._v("dependencies")])])]),t._v(" "),a("li",[t._v("derivation is not build until told.")]),t._v(" "),a("li",[t._v("directives in repl\n"),a("ol",[a("li",[t._v(": prefix")])])])]),t._v(" "),a("h2",{attrs:{id:"c7-working-derivation-example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c7-working-derivation-example"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/working-derivation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C7. Working Derivation Example"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("out path还要显式指明呵呵")]),t._v(" "),a("li",[t._v("把环境变量清零了额，虽然很合理但是很sb")]),t._v(" "),a("li",[t._v("一个derivation入库分两步\n"),a("ol",[a("li",[t._v("instantiate")]),t._v(" "),a("li",[t._v("build")])])])]),t._v(" "),a("h2",{attrs:{id:"c8-general-builder"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c8-general-builder"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/generic-builders.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C8. General Builder"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("记住如何传递buildInput作为dependencies")]),t._v(" "),a("li",[t._v("如下")])]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("set")]),t._v(" -e\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("unset")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("p")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$buildInputs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$p")]),t._v("/bin"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${"),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("PATH")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("}")]),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("$PATH")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tar")]),t._v(" -xf "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$src")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token for-or-select variable"}},[t._v("d")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" *"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("do")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(" -d "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$d")]),t._v('"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("then")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$d")]),t._v('"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("break")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("fi")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("done")]),t._v("\n\n./configure --prefix"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$out")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("mkDependency函数包装")])]),t._v(" "),a("h2",{attrs:{id:"c9-automatic-runtime-dependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c9-automatic-runtime-dependencies"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/automatic-runtime-dependencies.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C9. Automatic Runtime Dependencies"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("runtime dependencies")]),t._v(" "),a("li",[t._v("rpath - patchelf")]),t._v(" "),a("li",[t._v("strip")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("rpath")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Rpath",target:"_blank",rel:"noopener noreferrer"}},[t._v("In computing, rpath designates the run-time search path hard-coded in an executable file or library. Dynamic linking loaders use the rpath to find required libraries."),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"c10-nix-shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c10-nix-shell"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/developing-with-nix-shell.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C10. nix-shell"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("xxx\n"),a("ol",[a("li",[t._v("nix-env 是一种操作nix-store的接口")]),t._v(" "),a("li",[t._v("nix-store")]),t._v(" "),a("li",[t._v("nix-build")]),t._v(" "),a("li",[t._v("nix-shell")])])]),t._v(" "),a("li",[t._v("I need to manually source the env variables from the build script.")]),t._v(" "),a("li",[t._v("some generic stuff to make source easier")])]),t._v(" "),a("h2",{attrs:{id:"c11-garbage-collection"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c11-garbage-collection"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/garbage-collector.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C11. Garbage Collection"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"c12-repositories-pattern"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c12-repositories-pattern"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/inputs-design-pattern.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C12. Repositories& Pattern"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("nix repl")]),t._v(" "),a("li",[t._v("single repository design pattern")]),t._v(" "),a("li",[t._v("input design pattern\n"),a("ol",[a("li",[t._v("完全没有get，不就是要啥改啥嘛")])])])]),t._v(" "),a("h2",{attrs:{id:"c13-callpackage-pattern"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c13-callpackage-pattern"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/callpackage-design-pattern.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C13. callPackage Pattern"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("callPackage类似于一种函数封装，把不必要的重复参数hide掉")])]),t._v(" "),a("h2",{attrs:{id:"c14-override-pattern"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c14-override-pattern"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/override-design-pattern.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C14. Override Pattern"),a("OutboundLink")],1)]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("把参数不从build前，而是在Build后，用类似"),a("code",[t._v("graphviz.override")]),t._v("重载掉")])]),t._v(" "),a("h2",{attrs:{id:"c15-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c15-path"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/nix-search-paths.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C15. Path"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("NIX_PATH")]),t._v(" "),a("li",[t._v("nix-env并不和NIX_PATH有关，而是和"),a("code",[t._v(".nix-defexpr")]),t._v("有关")])]),t._v(" "),a("h2",{attrs:{id:"c16-nixpkgs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c16-nixpkgs"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/nixpkgs-parameters.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C16. Nixpkgs"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("Nixpkgs -> all-packages.nix -> config.nix(default $HOME/.nixpkgs/config.nix)")])]),t._v(" "),a("h2",{attrs:{id:"c17-nixpkgs-override"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c17-nixpkgs-override"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/nixpkgs-overriding-packages.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C17. Nixpkgs override"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("P->graphviz->x\n"),a("ol",[a("li",[t._v("change graphviz dependency for building p")])])])]),t._v(" "),a("div",{staticClass:"language-nix line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-nix"}},[a("code",[t._v("pkgs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("nixpkgs"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npkgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("graphviz "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" pkgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("graphviz"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("override "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" xorg "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuild"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pkgs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("P"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("有一个lazy evaluation的什么机制，导致函数执行两遍结果不一样。真够傻狗的")]),t._v(" "),a("h2",{attrs:{id:"c18-nix-store-path"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c18-nix-store-path"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/nix-store-paths.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C18. nix store path"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("tell us how a hash path is generated")]),t._v(" "),a("h2",{attrs:{id:"c19-fundamental-of-std-env"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c19-fundamental-of-std-env"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/fundamentals-of-stdenv.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C19. fundamental of std env"),a("OutboundLink")],1)]),t._v(" "),a("ol",[a("li",[t._v("stdenv是一个封装好的，添加derivation的东西")])]),t._v(" "),a("h2",{attrs:{id:"c20-basic-bependencies-and-hook"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#c20-basic-bependencies-and-hook"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://nixos.org/guides/nix-pills/basic-dependencies-and-hooks.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("C20. Basic Bependencies and Hook"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("We've also found that dependencies sometimes need to influence their dependents in ways the dependents can't or shouldn't predict. For this we have setup hooks and env hooks. Together, these 4 concepts support almost all build-time package interactions.")])])])}),[],!1,null,null,null);e.default=n.exports}}]);